<!-- 9j. We'll improve the calculator project.
1.Make a copy of exercise 8h.
2.Whenever we update the calculation, display
it on the page instead of in the console.
3. When the page first loads, if a calculation
exists in localStorage, display it on the page.-->



<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Dom-9j</title>
    </head>
    <body>
        <!-- first row -->
         <!-- <h3>Calculator</h3> -->
         <p class="result"></p>

        <p>
            <button onclick="updateCalculation(1);">
                1
            </button>

            <button onclick="updateCalculation(2);">
                2</button>

            <button onclick="updateCalculation(3);
            ">3</button>

            <button onclick="
            updateCalculation(' + ');">+</button>

        </p>
        <!-- 2nd row -->
        <p>
            <button onclick="updateCalculation(4)">4</button>

            <button onclick="updateCalculation(5)">5</button>

            <button onclick="updateCalculation(6);
            ">6</button>

            <button onclick="updateCalculation(' - ')">-</button>

        </p>
        <!-- 3rd row -->
        <p>
            <button onclick="updateCalculation(7)">7</button>

            <button onclick="updateCalculation(8)">8</button>

            <button onclick="updateCalculation(9)">9</button>

            <button onclick="updateCalculation(' * ')">*</button>
            

        </p>
        <!-- 4th row -->
        <p>
            <button onclick="updateCalculation(0)">0</button>

            <button onclick="updateCalculation('.');
            ">.</button>

            <button onclick="
            calculation=eval(calculation);
            // console.log(calculation);
            displayResult();
            localStorage.setItem('calculation',calculation);
            ">=</button>

            <button onclick="updateCalculation(' / ')
            ">/</button>
            

        </p>
        <p>
            <button onclick="calculation='';
            // console.log('Cleared.');
            displayResult();
            localStorage.setItem('calculation',calculation);

            ">Clear</button>
        </p>

        <script>
            // let calculation='';
            let calculation=localStorage.getItem('calculation')|| '';
            displayResult();
           function updateCalculation(value){
            console.log(`value is${value}`);
            calculation +=value;
           return console.log(calculation);
           localStorage.setItem('calculation',calculation);
           displayResult();

            }
            function displayResult(){
                document.querySelector('.result').innerHTML=calculation;
                // console.log(document.querySelector('.result').innerHTML);
            }
        </script>

        <!-- notes
         Why you should avoid eval():
        Security risk – If the string comes from user input, it can run arbitrary code.
        Performance hit – Slower than parseInt, Number, or +.
        Unnecessary – Simpler, safer methods exist.
         -->
</body>
</html>    